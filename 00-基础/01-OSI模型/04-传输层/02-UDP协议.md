# 1. UDP协议

## 1.1 介绍

UDP是用户数据包协议(User Datagram Protocol)

> 数据报:是通过网络传输的数据的基本单元


## 1.2 特点

* 不稳定, 不能保证对方能准确接受到.
* 相对tcp而言UDP要快
* 能发送广播

# 2. 报文信息

## 2.1 格式



![图片描述](01-UDP%E5%8D%8F%E8%AE%AE.assets/5e44af320001a2af14740186.png)

* 源端口号

  需要发送到程序的端口, 2字节

* 目标端口号

  当前程序的端口, 2字节

* 总长度

  数据传输的长度, 2字节

* Checksum

  校验值, 类似CRC, 2字节

一共占用8个字节, 总长度为2字节(8bit), 也就是2^8 = 65535

## 2.2 字节控制

* 局域网: 

 1518(以太网帧) - 16(mac地址) - 帧类型(2) - IP数据报(20) - UDP头部信息(8) = 1472字节

* Internet: 

 标准MTU值(576) - IP数据报(20) - UDP头部信息(8) = 548字节

* UDP发送的字节上限:

 65535 - 20(IP头部) - 8(UDP头部) = 65507字节 

*注: 超过上述长度时, 会信息分片传输, 到达目的地后重新组合, 如果中途有丢失情况, 则会抛弃全部数据, 所以包越长越容易丢包.*


